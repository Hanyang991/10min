<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>10초 안에 멈추세요!</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Share+Tech+Mono&family=Rajdhani:wght@300;500;700&display=swap" rel="stylesheet"/>
<link rel="stylesheet" href="styles.css">
</head>
<body>

<div class="start-screen" id="startScreen">
  <h1>⏱ 10초</h1>
  <p class="start-sub">다양한 시계가 눈앞에 펼쳐질 것입니다.<br/>주어진 조건이 <strong style="color:var(--accent)">충족되는 순간</strong> 멈추세요!</p>
  <div class="how-to">
    <h3>HOW TO PLAY</h3>
    <ul>
      <li>스테이지마다 <strong style="color:#eee">랜덤 조건</strong>이 주어집니다</li>
      <li>조건이 충족되는 순간 <strong style="color:var(--accent2)">스페이스바 (또는 화면을)</strong>를 누르세요</li>
      <li>조건 미충족 시 틀린 답으로 처리됩니다</li>
      <li>10초가 지나면 자동으로 실패 처리됩니다</li>
      <li>최대 스테이지까지 도전해보세요!</li>
    </ul>
  </div>
  <button class="btn-play" onclick="startGame()">PLAY</button>
  <button class="btn-lb-home" onclick="openLeaderboard()">🏆 순위 보기</button>
</div>

<div class="login-overlay hidden" id="loginOverlay">
  <div class="login-box">
    <h2>WELCOME</h2>
    <p>게임 시작 전 닉네임을 입력해주세요</p>
    <input type="text" id="nameInput" placeholder="닉네임 입력..." maxlength="12" onkeydown="if(event.key==='Enter')doLogin()" />
    <button class="btn-login" onclick="doLogin()">시작하기</button>
  </div>
</div>

<div id="app" class="hidden">
  <div class="header">
    <h1>⏱ 10초</h1>
    <div class="sub">STOP THE CLOCK</div>
  </div>

  <div class="player-bar">
    <div class="pinfo">플레이어: <span id="playerName">—</span></div>
    <div class="pinfo">최고스테이지: <span id="bestStage">0</span></div>
    </div>

  <div class="strip">
    <div>
      <div class="stage-label">Stage</div>
      <div class="stage-val" id="stageVal">1</div>
    </div>
    <div class="divider"></div>
    <div class="timer-wrap">
      <div class="timer-label">Time Left</div>
      <div class="timer-val" id="timerVal">10.00</div>
    </div>
    <div class="divider"></div>
    <div>
      <div class="stage-label">Score</div>
      <div class="stage-val" id="scoreVal">0</div>
    </div>
  </div>

  <div class="mission-card" id="missionCard">
    <div class="mission-label">Mission</div>
    <div class="mission-text" id="missionText">로딩...</div>
  </div>

  <div class="clock-grid" id="clockGrid">
    </div>

  <div class="btn-row">
    <button class="btn-stop" id="btnStop" onclick="onStop(event)">
      STOP
      <span style="display: block; font-size: 0.65rem; opacity: 0.7; margin-top: 2px; font-weight: 400; letter-spacing: 1px;">SPACE</span>
    </button>
    <button class="btn-next" id="btnNext" onclick="nextStage()">다음 스테이지 →</button>
  </div>
</div>

<div class="result-overlay" id="resultOverlay">
  <div class="result-box">
    <div class="result-emoji" id="resultEmoji">✅</div>
    <div class="result-title correct" id="resultTitle">정답!</div>
    <div class="result-desc" id="resultDesc"></div>
    <div class="result-btns">
      <button class="btn-retry" id="btnRetry" onclick="retryStage()">
        처음부터 다시
        <span style="display: block; font-size: 0.7rem; opacity: 0.6; margin-top: 2px;">(SPACE)</span>
      </button>
      <button class="btn-next" id="resultNext" style="display:none; font-size:0.88rem; padding:10px 24px;" onclick="nextStage()">
        다음 →
        <span style="display: block; font-size: 0.65rem; opacity: 0.6; margin-top: 2px;">(SPACE)</span>
      </button>
    </div>
    <button class="btn-leaderboard" style="margin-top:10px;" onclick="goHome()">🏠 홈</button>
  </div>
</div>

<div class="lb-overlay" id="lbOverlay">
  <div class="lb-box">
    <h2>🏆 LEADERBOARD</h2>
    <div id="lbList"></div>
    <div style="display: flex; gap: 10px; justify-content: center; margin-top: 18px;">
      <button class="lb-close" onclick="closeLb()">닫기</button>
    </div>
  </div>
</div>

<script src="script.js"></script>
</body>
</html>
