<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>10초 안에 멈추세요!</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Share+Tech+Mono&family=Rajdhani:wght@300;500;700&display=swap" rel="stylesheet"/>
<link rel="stylesheet" href="styles.css">
</head>
<body>
<!-- PARTICLES (배경) -->
<div id="particles"></div>

<!-- MAIN APP -->
<div id="app">
  <header class="header">
    <h1>10초 안에 멈추세요!</h1>
    <div class="sub">PRECISION TIMING CHALLENGE</div>
  </header>

  <div class="player-bar">
    <div class="pinfo">정답: <span id="totalCorrect">0</span></div>
    <div class="pinfo">틀림: <span id="totalWrong">0</span></div>
    <button class="btn-small" onclick="toggleRecordModal()">기록 보기</button>
  </div>

  <div class="strip">
    <div>
      <div class="stage-label">STAGE</div>
      <div class="stage-val" id="stageNum">1</div>
    </div>
    <div class="divider"></div>
    <div class="timer-wrap">
      <div class="timer-label">TIME LEFT</div>
      <div class="timer-val" id="timeVal">10.00</div>
    </div>
  </div>

  <div class="mission-card">
    <div class="mission-label">MISSION</div>
    <div class="mission-text" id="missionText">정확히 <strong>10.00</strong>초에 멈추세요!</div>
  </div>

  <div class="clock-grid" id="clockGrid">
    <!-- 디지털 -->
    <div class="clock-card" data-type="digital">
      <div class="clock-label">DIGITAL</div>
      <div class="digital-clock" id="digitalClock">00:00:00</div>
    </div>
    <!-- 아날로그 -->
    <div class="clock-card" data-type="analog">
      <div class="clock-label">ANALOG</div>
      <svg class="analog-svg" viewBox="0 0 100 100">
        <circle cx="50" cy="50" r="45" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="2"/>
        <circle cx="50" cy="50" r="2" fill="var(--accent)"/>
        <line id="hourHand"   x1="50" y1="50" x2="50" y2="30" stroke="var(--accent)" stroke-width="3" stroke-linecap="round"/>
        <line id="minuteHand" x1="50" y1="50" x2="50" y2="20" stroke="var(--accent)" stroke-width="2" stroke-linecap="round"/>
        <line id="secondHand" x1="50" y1="50" x2="50" y2="15" stroke="var(--accent2)" stroke-width="1.5" stroke-linecap="round"/>
      </svg>
    </div>
    <!-- 바이너리 -->
    <div class="clock-card" data-type="binary">
      <div class="clock-label">BINARY</div>
      <div class="binary-grid">
        <div class="binary-col" id="binH"></div>
        <div class="binary-col" id="binM"></div>
        <div class="binary-col" id="binS"></div>
      </div>
    </div>
    <!-- 플립 -->
    <div class="clock-card" data-type="flip">
      <div class="clock-label">FLIP</div>
      <div class="flip-display" id="flipDisplay"></div>
    </div>
    <!-- 네온 -->
    <div class="clock-card" data-type="neon">
      <div class="clock-label">NEON</div>
      <div class="neon-clock" id="neonClock">00:00:00</div>
    </div>
  </div>

  <div class="btn-row">
    <button id="btnStop" class="btn-stop" onclick="onStop(event)">STOP</button>
  </div>

  <div class="btn-row">
    <button id="btnNext" class="btn-next" onclick="nextStage()">다음 스테이지</button>
  </div>

  <button id="btnFeedback" class="btn-feedback" onclick="toggleFeedbackModal()">
    <span>📝</span> 피드백 보내기
  </button>
</div>

<!-- RESULT OVERLAY -->
<div id="resultOverlay" class="result-overlay">
  <div class="result-content">
    <div class="result-icon" id="resultIcon"></div>
    <h2 id="resultTitle">결과</h2>
    <p id="resultDetail">상세 정보</p>
    <div class="result-buttons">
      <button id="resultNext" class="result-btn next-btn" onclick="nextStage()">
        다음 스테이지 →
      </button>
      <button id="resultRetry" class="result-btn retry-btn" onclick="retryStage()">
        재시도
      </button>
    </div>
  </div>
</div>

<!-- RECORD MODAL -->
<div id="recordModal" class="modal">
  <div class="modal-content">
    <button class="modal-close" onclick="toggleRecordModal()">✕</button>
    <h3>기록 목록</h3>
    <div id="recordList" class="record-list"></div>
  </div>
</div>

<!-- FEEDBACK MODAL -->
<div id="feedbackModal" class="modal">
  <div class="modal-content feedback-modal-content">
    <button class="modal-close" onclick="toggleFeedbackModal()">✕</button>
    <h3>피드백 보내기</h3>
    <div class="feedback-info">
      <p>게임에 대한 의견이나 제안사항을 남겨주세요!</p>
      <p style="font-size: 0.85rem; color: #888; margin-top: 8px;">
        버그 제보, 기능 제안, 난이도 조절 등 모든 의견 환영합니다.
      </p>
    </div>
    <div class="feedback-form">
      <textarea
        id="feedbackText"
        class="feedback-textarea"
        placeholder="여기에 피드백을 작성해주세요..."
        rows="6"
      ></textarea>
      <button class="feedback-submit" onclick="submitFeedback()">
        전송하기
      </button>
    </div>
    <div id="feedbackStatus" class="feedback-status"></div>
  </div>
</div>

<script src="script.js"></script>
</body>
</html>
